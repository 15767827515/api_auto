<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="11" time="11.234" timestamp="2024-02-29T17:36:28.834286" hostname="REDMI-PRO-YN"><testcase classname="testcase.CrmLogin.test_crm_login.TestCrmLogin" name="test_crmlogin[baseinfo0-testdata0]" time="0.250" /><testcase classname="testcase.CrmLogin.test_crm_login.TestCrmLogin" name="test_crmlogin[baseinfo1-testdata1]" time="0.120" /><testcase classname="testcase.CrmLogin.test_crm_login.TestCrmLogin" name="test_crmlogin[baseinfo2-testdata2]" time="0.040" /><testcase classname="testcase.FileUpload.test_uploadfile.TestUploadfile" name="test_upload_file[baseinfo0-testdata0]" time="0.826" /><testcase classname="testcase.FileUpload.test_uploadfile.TestUploadfile" name="test_upload_file[baseinfo1-testdata1]" time="0.375" /><testcase classname="testcase.Invoice_Inspection.test_invoice_Inspection.TestInvoiceInspection" name="test_upload_file[baseinfo0-testdata0]" time="6.713" /><testcase classname="testcase.Invoice_Inspection.test_invoice_Inspection.TestInvoiceInspection" name="test_invoice_inspection[baseinfo0-testdata0]" time="0.116"><failure message="AssertionError">self = &lt;test_invoice_Inspection.TestInvoiceInspection object at 0x0000027A25DAF3E0&gt;
baseinfo = {'api_name': '发票上传', 'feature_name': '发票识别查验', 'header': None, 'method': 'get', ...}
testdata = {}

    @pytest.mark.smoke
    @pytest.mark.parametrize(('baseinfo,testdata'),
                             read_test_yaml(ROOT_PATH + r"\testcase\Invoice_Inspection\Invoice_upload.yaml"))
    def test_invoice_inspection(self, baseinfo, testdata):
&gt;       RequestBase().request_base(baseinfo, testdata)

testcase\Invoice_Inspection\test_invoice_Inspection.py:24: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
utils\request_control.py:150: in request_base
    raise e
utils\request_control.py:144: in request_base
    raise e
utils\request_control.py:138: in request_base
    AssertionMangement().assert_result(assertion, result_json)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;utils.assert_control.AssertionMangement object at 0x0000027A25E97CE0&gt;
expected = [{'equals': {'msg': '识别失败'}}], response = {'msg': '非法的sign'}
status_code = 200

    def assert_result(self, expected: list, response: dict, status_code=200):
        '''
        根据yaml的不同断言类型，调用不同断言方法获取断言结果
        :param expected:
        :param response:
        :param status_code: 断言状态码默认为200，如果需要断言其他状态码，调用时候传入其他即可
        :return:
        '''
        all_assert_flag = 0
        try:
            # 循环得到断言列表
            for yq in expected:
                for k, v in yq.items():
                    # 循环断言列表，得到每个列表的断言类型k和断言表达式v
                    if k == "contains":
                        all_assert_flag = all_assert_flag + self.contain_assert(v, response, status_code)
                    elif k == "equals":
                        all_assert_flag = all_assert_flag + self.equal_assert(v, response)
                    elif k == "sql":
                        all_assert_flag = all_assert_flag + self.db_assert(json.loads(v), response)
        except Exception as e:
            logs.info("请检查断言字段是否包含在接口返回的内容中")
            logs.info(f"异常信息:{e}")
            raise e
    
        if all_assert_flag == 0:
            logs.info('断言正常，测试成功')
            assert True
        if all_assert_flag != 0:
            logs.error('断言错误，测试失败')
&gt;           assert False
E           AssertionError

utils\assert_control.py:134: AssertionError</failure></testcase><testcase classname="testcase.SMOKE.test_smoke.TestSmoke" name="test_smoke[baseinfo0-testdata0]" time="0.145" /><testcase classname="testcase.SMOKE.test_smoke.TestSmoke" name="test_smoke[baseinfo1-testdata1]" time="2.142" /><testcase classname="testcase.SMOKE.test_smoke.TestSmoke" name="test_smoke[baseinfo2-testdata2]" time="0.112" /><testcase classname="testcase.SMOKE.test_smoke.TestSmoke" name="test_smoke[baseinfo3-testdata3]" time="0.123" /></testsuite></testsuites>